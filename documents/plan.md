# План автоматизации тестирования
## Объект тестирования:
### Веб-сервис, который предлагает купить тур по определённой цене двумя способами:
1. Обычная оплата по дебетовой карте.
2. Выдача кредита по данным банковской карты.
   ![](pic/service.png)
## Данные валидных карт
### Разрешенная карта (<b>APPROVED</b>)

<b>Номер карты</b>: 4444 4444 4444 4441

<b>Срок действия</b>:

* Месяц: Больше или равен текущему, но не более 5 лет
* Год: Больше или равен предыдущему

<b>Владелец</b>: Имя и фамилия прописаны латиницей

<b>CVV</b>: Число от 000 до 999

### Запрещенная карта (<b>DECLINED</b>)

<b>Номер карты</b>: 4444 4444 4444 4442

<b>Срок действия</b>:

* Месяц: Больше или равен текущему, но не более 5 лет
* Год: Больше или равен текущему

<b>Владелец</b>: Имя и фамилия прописаны латиницей

<b>CVV</b>: Число от 000 до 999

## Данные не валидной карты:

### Карта отсутствующая в системе

<b>Номер карты</b>: Случайное число длинной 16 знаков

<b>Срок действия</b>:

* Месяц: Больше или равен текущему, но не более 5 лет
* Год: Больше или равен текущему

<b>Владелец</b>: Имя и фамилия прописаны латиницей

<b>CVV</b>: Число от 000 до 999

## Перечень автоматизируемых сценариев
### 1. При покупке [разрешенной картой](#разрешенная-карта) на экране отображается сообщение об одобрении банком.
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* Нажать кнопку `Продолжить`
* Получить уведомление об одобрении от банка (Получить подтверждение успешной покупки тура).
* Проверить правильность занесения данных в базу. Проверить, что в таблице `payment_entity` статус операции записан как `APPROVED`.
### 2. При покупке [запрещенной картой](#запрещенная-карта) отображается сообщение об отказе банком
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [запрещенной](#запрещённая-карта) карты (DECLINED)
* Нажать кнопку `продолжить`
* Получить уведомление об отказе от банка (Получить сообщение о том, что карта отклонена)
* Проверить правильность занесения данных в базу. Проверить, что в таблице `payment_entity` статус операции записан как `DECLINED`.
### 3. При покупке [картой отсутствующей в системе](#карта-отсутствующая-в-системе) отображается сообщение об отказе банком.
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Ввести номер карты отсутствующий в системе. Например, `5891764562083725`
* Ввести имя латиницей. Например `Vladislav Pozdnyakov`.
* Ввести срок действия карты (Позже текущей даты)
* Ввести CVV трехзначное число в границах `000...999`
* Получить уведомление об отказе от банка (Получить сообщение о том, что карта отклонена)
* Проверить правильность занесения данных в базу. Проверить, что в таблице `payment_entity` статус операции записан как `DECLINED`.
### 4. При оплате в кредит [разрешенной картой](#разрешенная-карта) отображается сообщение об подтверждении банком.
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить в кредит`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* Нажать кнопку `продолжить`
* Получить уведомление об одобрении от банка (Получить подтверждение успешной покупки тура).
* Проверить правильность занесения данных в базу. Проверить, что в таблице `credit_request_entity` статус операции записан как `APPROVED`.
### 5. При оплате в кредит [запрещенной картой](#запрещенная-карта) отображается сообщение об отказе банком
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить в кредит`
* Заполнить данные [запрещенной](#разрешенная-карта) карты (DECLINED)
* Нажать кнопку `продолжить`
* Получить уведомление об отказе от банка (Получить сообщение о том, что карта отклонена)
* Проверить правильность занесения данных в базу. Проверить, что в таблице `credit_request_entity` статус операции записан как `DECLINED`.
### 6. При оплате в кредит [картой отсутствующей в системе](#карта-отсутствующая-в-системе) отображается сообщение об отказе банком
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить в кредит`
* Ввести номер карты отсутствующий в системе. Например `5891764562083725`
* Ввести имя латиницей. Например `Vladislav Pozdnyakov`.
* Ввести срок действия карты (Позже текущей даты)
* Ввести CVV трехзначное число в границах `000...999`
* Получить уведомление об отказе от банка (Получить сообщение о том, что карта отклонена)
* Проверить правильность занесения данных в базу. Проверить, что в таблице `credit_request_entity` статус операции записан как `DECLINED`.
### 7. При оплате картой и указании даты действия в верхней границе (текущая дата + 5 лет), отображается сообщение об одобрении банком
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* В полях даты вписать дату +5 лет от текущей
* Нажать кнопку `продолжить`
* Получить уведомление об одобрении от банка
### 8. При оплате картой и указании дата действия выше верхней границы (5 лет + 1 месяц) заявка не отправляется, отображается ошибка валидации поля "Срок действия" - 'Неверно указан срок действия карты'
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* В полях даты вписать дату + 5 лет 1 месяц от текущей даты
* Нажать кнопку `продолжить`
* Получить ошибку валидации поля "Год" с сообщением 'Неверно указан срок действия карты'
### 9. При оплате картой дата действия которой меньше текущей - заявка не отправляется, отображается ошибка валидации поля "Срок действия" - 'Неверно указан срок действия карты'.
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* В полях даты вписать дату - 1 месяц от текущей
* Нажать кнопку `продолжить`
* Получить ошибку валидации поля "Месяц" с сообщением 'Неверно указан срок действия карты'
### 10. При оплате картой с указанием "нулевого месяца", ошибка валидации поля "Месяц". 'Неверно указан срок действия карты'
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить данные [разрешённой карты](#разрешенная-карта) (APPROVED)
* Заполнить поле "Год" значением текущего года +1 от текущего
* Заполнить поле месяца значением "00"
* Нажать кнопку `продолжить`
* Получить ошибку валидации поля "месяц", отображение сообщения 'Неверно указан срок действия карты'
### 11. При оплате в кредит с вводом пустым полем номера карты - ошибка валидации поля "Номер карты" - "Поле обязательно для заполнения"
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме номера карты [валидными данными](#данные-валидных-карт) и нажать кнопку `продолжить`.
* Получить сообщение об обязательности заполнения поля "Номер карты".
### 12. При оплате картой с пустым полем "месяц" ошибка валидации поля "Месяц" - "Поле обязательно для заполнения."
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме "Месяц", [валидными данными](#данные-валидных-карт) и нажать кнопку`продолжить`
* Получить сообщение об обязательности заполнения поля "Номер карты".
### 13. При оплате картой с пустым полем "год", ошибка валидации поля - "Поле обязательно для заполнения"
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме поля года, [валидными данными](#данные-валидных-карт) и нажать `продолжить`
* Получить сообщение об обязательности заполнения поля "Год".
### 14. При оплате картой с пустым полем "Имя" ошибка валидации поля - "Поле обязательно для заполнения"
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме поля "Владелец", [валидными данными](#данные-валидных-карт) и нажать `продолжить`
* Получить сообщение об обязательности заполнения поля "Имя"
### 15. При оплате картой с пустым полем CVC - ошибка валидации поля - "Поле обязательно для заполнения"
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме поля "CVC", [валидными данными](#данные-валидных-карт) и нажать `продолжить`
* Получить сообщение об обязательности заполнения поля CVC
### 16. При попытке покупки при вводе кириллических символов в поле "Имя" выводится ошибка о неправильном формате введённых данных
* Открыть [страницу покупки тура](http://localhost:8080)
* Нажать кнопку `Купить`
* Заполнить все поля, кроме поля имени, [валидными данными](#данные-валидных-карт)
* Ввести в поле "Имя и Фамилия" данные кириллицей например "Алексей Петрович"
* Нажать кнопку `продолжить`
* Получить сообщение о неправильном формате данных в поле "Имя".

## Перечень используемых инструментов с обоснованием выбора
* IntelliJ IDEA — интегрированная среда разработки программного обеспечения для разработки на Java или Kotlin. Максимально удобный инструмент разработки, есть множество плагинов.
* Java 11.x - Язык на котором написаны тесты. Язык выбран ввиду наличия знания по написании автотестов на Java.
* Gradle - система автоматической сборки приложения. Удобный и лёгкий инструмент для подключения сторонних библиотек.
* Docker - — программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации, контейнеризатор приложений. Удобен для разворачивания окружения для разработки и тестирования.
* JUnit5 - Инфраструктура модульного тестирования для Java. Хорошо документирован, повсеместно используется в написании автотестов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, со стабильными тестами и селекторами.
* JavaFaker - Библиотека для генерации случайных данных для тестов, удобный инструмент для создания тестовых данных для полей.
## Перечень и описание возможных рисков при автоматизации
* Отсутствие описания работы с API банковского сервиса.
* Отсутствие уникальных локаторов, что может привести в последствии к ухудшению стабильности тестов.
* Приложение запускается на тестовом сервисе, возможны проблемы при работе сервиса в реальных условиях. Невозможность проверки сервиса в продуктивном окружении.
* Малое количество тестовых данных, данные карт не соответствуют алгоритму формирования номера карты.
## Интервальная оценка с учётом рисков (в часах)
* Настройка тестового окружения - 16 часов.
* Написание и отладка тестов - 60 часов
* Выполнение тестов и заведение отчетов об ошибках - 13 часов
* Написание и подготовка отчета о тестировании - 7 часов
* Итог с учетом рисков 96 часов.
## План сдачи работ
Написание автотестов 07.05.2023
Исполнение тестов и подготовка отчета 08.05.2023

























